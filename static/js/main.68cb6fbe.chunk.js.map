{"version":3,"sources":["components/content/textinput/index.js","components/content/paper/BgLayer.js","components/content/paper/TransformableGroup.js","components/content/paper/URLImage.js","components/content/paper/ImagesLayer.js","components/content/store.js","components/content/paper/CharImg.js","components/content/paper/TextLayer.js","components/content/paper/index.js","components/content/controls/svgs.js","components/homeheader/index.js","components/content/controls/inputGroup/index.js","components/content/controls/inputContainer/index.js","components/content/controls/index.js","components/content/index.js","App.js","serviceWorker.js","index.js"],"names":["TextInput","props","className","placeholder","cols","wrap","onChange","e","dispatch","type","text","target","value","onPaste","clipboardData","items","is_image","urls","i","length","indexOf","blob","getAsFile","source","URL","createObjectURL","push","x","y","src","id","store","imageURLS","preventDefault","dispatchImageURLSChanges","BgLayer","bgLayerRef","useRef","useEffect","current","draw","bgURLindex","ref","image","useImage","bgURLS","height","width","TransformableGroup","isSelected","onSelect","children","offsetY","shapeRef","React","trRef","nodes","getLayer","batchDraw","draggable","listening","onClick","onTap","onMouseEnter","getStage","container","style","cursor","onMouseLeave","boundBoxFunc","oldBox","newBox","URLImage","img","ImagesLayer","useState","images","setImages","imagesLayerRef","map","selectedId","selectShape","dimMap","0","1","2","3","4","5","6","7","8","9","$","_","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","c","m","n","o","r","s","u","v","w","b","d","f","h","j","k","l","t","g","p","q","z","initialState","chars","range","reduce","obj","tmpchar","String","fromCharCode","tmpimg","Image","process","commonConfig","scale","left","top","linespacing","opacity","stageRef","undefined","reducer","state","action","concat","CharImg","e1","scaleX","scaleY","rotation","rand","min","max","Math","random","TextLayer","textData","setTextData","textLayerRef","lastspace","hyphenflag","tmpx","tmpy","tmprotation","out","includes","tmpsum","currentchar","char","textlayout","imageSmoothingEnabled","offsetX","e0","i0","i1","Paper","useMeasure","stageContainerRef","checkDeselect","attrs","console","log","onMouseDown","onTouchStart","expandSvg","viewBox","fill","xmlns","fillRule","uploadSvg","randomSvg","downloadSvg","penSvg","ghSvg","role","trashSvg","clearSvg","HomeHeader","href","rel","InputGroup","name","abs","parseFloat","defaultValue","step","InputContainer","open","setOpen","title","Collapse","in","Controls","pageCtr","setPageCtr","fileRef","thickborder","header","accept","Array","from","files","hidden","click","disabled","uri","link","document","createElement","download","body","appendChild","removeChild","downloadURI","toDataURL","mimeType","quality","pixelRatio","Date","now","Content","useReducer","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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CC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAEhCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,IAChCC,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC9BnH,EAAG,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC9Bo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","file":"static/js/main.68cb6fbe.chunk.js","sourcesContent":["import React from 'react';\nimport './textinput.scss';\n\nconst TextInput = props => {\n  const dispatchTextChanges = e => {\n    props.dispatch({\n      type: 'CHANGETEXT',\n      text: e.target.value,\n    });\n  };\n  const dispatchImageURLSChanges = urls => {\n    props.dispatch({\n      type: 'ADDIMAGEURLS',\n      imageURLS: urls,\n    });\n  };\n\n  return (\n    <div className='C-textinput'>\n      <textarea\n        placeholder='Enter Text You want to be written on paper. Paste an image here to add to paper.'\n        // id='dataField'\n        // onKeyUp='textChanged(this.value)'\n        cols='50'\n        wrap='hard'\n        onChange={dispatchTextChanges}\n        onPaste={e => {\n          // console.log(e.clipboardData);\n          if (e.clipboardData) {\n            var items = e.clipboardData.items;\n            if (!items) return;\n\n            //access data directly\n            var is_image = false;\n            let urls = [];\n            for (var i = 0; i < items.length; i++) {\n              if (items[i].type.indexOf('image') !== -1) {\n                //image\n                var blob = items[i].getAsFile();\n                var source = URL.createObjectURL(blob);\n                urls.push({\n                  x: 100,\n                  y: 100,\n                  src: source,\n                  id: props.store.imageURLS.length,\n                });\n                is_image = true;\n              }\n            }\n            if (is_image === true) {\n              e.preventDefault();\n            }\n            dispatchImageURLSChanges(urls);\n          }\n        }}\n      ></textarea>\n    </div>\n  );\n};\n\nexport default TextInput;\n","import React, { useRef, useEffect } from 'react';\nimport { Layer, Image } from 'react-konva';\n\nimport useImage from 'use-image';\n\nconst BgLayer = props => {\n  const bgLayerRef = useRef();\n  useEffect(() => {\n    bgLayerRef.current.draw();\n  }, [props.store.bgURLindex]);\n\n  return (\n    <Layer ref={bgLayerRef}>\n      <Image\n        id='bglayer'\n        image={\n          useImage(\n            //img src here\n            props.store.bgURLS[props.store.bgURLindex]\n          )[0]\n        }\n        height={props.height}\n        width={0.7 * props.height}\n      />\n    </Layer>\n  );\n};\n\nexport default BgLayer;\n","import React from 'react';\nimport { Transformer, Group } from 'react-konva';\n\nconst TransformableGroup = ({ isSelected, onSelect, children, offsetY = 0 }) => {\n  const shapeRef = React.useRef();\n  const trRef = React.useRef();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      // we need to attach transformer manually\n      trRef.current.nodes([shapeRef.current]);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n\n  return (\n    <>\n      <Group\n        offsetY={offsetY}\n        draggable={true}\n        listening={true}\n        onClick={onSelect}\n        onTap={onSelect}\n        ref={shapeRef}\n        onMouseEnter={e => {\n          // style stage container:\n          const container = e.target.getStage().container();\n          container.style.cursor = 'all-scroll';\n        }}\n        onMouseLeave={e => {\n          const container = e.target.getStage().container();\n          container.style.cursor = 'default';\n        }}\n        // onDragEnd={e => {\n        //   // props.onChange({\n        //   //   // ...shapeProps,\n        //   //   x: e.target.x(),\n        //   //   y: e.target.y(),\n        //   // });\n        // }}\n        // onTransformEnd={e => {\n        // transformer is changing scale of the node\n        // and NOT its width or height\n        // but in the store we have only width and height\n        // to match the data better we will reset scale on transform end\n        // const node = shapeRef.current;\n        // const scaleX = node.scaleX();\n        // const scaleY = node.scaleY();\n\n        // we will reset it back\n        // node.scaleX(1);\n        // node.scaleY(1);\n        // props.onChange({\n        //   // ...shapeProps,\n        //   x: node.x(),\n        //   y: node.y(),\n        //   // set minimal value\n        //   width: Math.max(5, node.width() * scaleX),\n        //   height: Math.max(node.height() * scaleY),\n        // });\n        // }}\n      >\n        {children}\n      </Group>\n\n      {isSelected && (\n        <Transformer\n          ref={trRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            // limit resize\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nexport default TransformableGroup;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Image } from 'react-konva';\nimport useImage from 'use-image';\n\nimport TransformableGroup from './TransformableGroup';\n\nconst URLImage = props => {\n  const [img] = useImage(props.image.src);\n  return (\n    <>\n      <TransformableGroup {...props}>\n        <Image image={img}></Image>\n      </TransformableGroup>\n    </>\n  );\n};\n\nexport default URLImage;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Layer } from 'react-konva';\n\nimport URLImage from './URLImage';\n\nconst ImagesLayer = props => {\n  const [images, setImages] = useState([]);\n  const imagesLayerRef = useRef();\n\n  useEffect(() => {\n    setImages(\n      props.store.imageURLS.map((image, i) => {\n        return (\n          <URLImage\n            image={image}\n            key={i}\n            isSelected={image.id === props.selectedId}\n            onSelect={() => {\n              props.selectShape(image.id);\n              // const tmp = images[i];\n              // images.splice(i, 1);\n              // images.push(tmp);\n              // setImages(images);\n            }}\n          />\n        );\n      })\n    );\n  }, [props.store.imageURLS, props.selectedId, props.selectShape]);\n\n  // useEffect(() => {\n  //   imagesLayerRef.current.draw();\n  // }, [images]);\n\n  return (\n    <Layer draggable={true} listening={true} ref={imagesLayerRef}>\n      {images}\n    </Layer>\n  );\n};\n\nexport default ImagesLayer;\n","import range from 'lodash/range';\n\n// char : [X, Y, offsetX, offsetY, marginLeft, marginRight, scaleX, scaleY]\nconst dimMap = {\n  0: [34, 31, 0, -20, 0, 2, 1.2, 2.3, {}],\n  1: [7, 29, 0, -20, 1, 3, 1.5, 2.4, {}],\n  2: [23, 28, 0, -20, 0, 1, 1.5, 2.5, {}],\n  3: [25, 31, 0, -20, 0, 2, 1.3, 2.3, {}],\n  4: [30, 35, 0, -20, 0, 1, 1.2, 2, {}],\n  5: [31, 28, 0, -20, 1, 1, 1.5, 2.5, {}],\n  6: [24, 28, 0, -20, 0, 0, 1.5, 2.5, {}],\n  7: [27, 35, 0, -20, 0, 2, 1.2, 2, {}],\n  8: [27, 33, 0, -19, 0, 1, 1.3, 2.1, {}],\n  9: [28, 40, 0, -18, 0, 1, 1.3, 1.8, {}],\n  '!': [11, 65, 0, -10, 5, 10, 1, 1, {}],\n  '\"': [13, 22, 0, -50, 5, 10, 1.5, 1, {}],\n  '#': [56, 74, 0, 0, 5, 10, 1, 1, {}],\n  $: [48, 101, 0, 0, 5, 10, 1, 0.8, {}],\n  '%': [48, 70, 0, 0, 5, 10, 1, 1, {}],\n  '&': [44, 63, 0, 0, 5, 10, 1, 1, {}],\n  \"'\": [7, 18, 0, -50, 5, 10, 1, 1, {}],\n  '`': [7, 18, 0, -50, 5, 10, 1, 1, {}],\n  '(': [18, 66, 0, 0, 5, 10, 1, 1, {}],\n  ')': [23, 67, 0, 0, 5, 10, 1, 1, {}],\n  '*': [38, 35, 0, -20, 5, 10, 1, 1, {}],\n  '+': [38, 32, 0, -20, 5, 10, 1, 1, {}],\n  ',': [12, 16, 0, -20, 5, 10, 1.2, 1.5, {}],\n  '-': [30, 6, 0, -30, 5, 10, 1, 1, {}],\n  '.': [10, 11, 0, -5, 5, 10, 1, 1, {}],\n  '/': [33, 61, 0, -10, 5, 10, 1, 1, {}],\n  ':': [12, 39, 0, -20, 5, 10, 1, 1, {}],\n  ';': [11, 46, 0, -10, 5, 10, 1, 1, {}],\n  '<': [36, 33, 0, -20, 5, 10, 1, 1, {}],\n  '=': [31, 19, 0, -30, 5, 5, 1, 1, {}],\n  '>': [34, 33, 0, -20, 5, 10, 1, 1, {}],\n  '?': [27, 65, 0, -10, 5, 10, 1, 1, {}],\n  '@': [56, 69, 0, 0, 5, 10, 1, 1, {}],\n  '[': [25, 66, 0, 0, 5, 10, 1, 1.2, {}],\n  '\\\\': [42, 52, 0, -10, 5, 10, 1, 1.2, {}],\n  ']': [28, 63, 0, -5, 5, 10, 1, 1.2, {}],\n  '^': [40, 36, 0, -50, 5, 10, 1, 1, {}],\n  _: [56, 8, 0, -10, 5, 10, 1, 1, {}],\n  '{': [25, 61, 0, -5, 5, 10, 1, 1.2, {}],\n  '|': [10, 62, 0, -10, 5, 10, 1, 1.1, {}],\n  '}': [26, 62, 0, -5, 5, 10, 1, 1.2, {}],\n  A: [75, 70, 0, 0, 0, 0, 0.9, 1, {}],\n  B: [49, 70, 0, 0, 0, 0, 0.9, 1, {}],\n  C: [53, 70, 0, 0, 2, 1, 0.9, 1, {}],\n  D: [56, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  E: [54, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  F: [45, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  G: [50, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  H: [54, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  I: [46, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  J: [52, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  K: [46, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  L: [49, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  M: [82, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  N: [67, 70, 0, 0, 1, 2, 0.9, 1, {}],\n  O: [51, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  P: [51, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  Q: [66, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  R: [44, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  S: [40, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  T: [72, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  U: [54, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  V: [62, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  W: [75, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  X: [51, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  Y: [52, 70, 0, 0, 1, 1, 0.9, 1, {}],\n  Z: [66, 70, 0, 0, 1, 1, 0.9, 1, {}],\n\n  a: [60, 40, 0, 0, 0, 0, 0.9, 1, {}],\n  c: [37, 40, 0, 0, 0, 1, 1, 1, {}],\n  e: [37, 40, 0, 0, 0, 0, 1, 1, {}],\n  m: [87, 40, 0, 0, 0, 0, 1, 1, {}],\n  n: [59, 40, 0, 0, 0, 0, 0.9, 1, {}],\n  o: [35, 40, 0, 0, 0, 1, 1, 1, {}],\n  r: [61, 40, 0, 0, 0, 0, 1, 1, {}],\n  s: [35, 40, 0, 0, 0, 0, 1, 1, {}],\n  u: [53, 40, 0, 0, 0, 0, 1, 1, {}],\n  v: [40, 40, 0, 0, 0, 1, 1, 1, {}],\n  w: [50, 40, 0, 0, 0, 0, 1, 1, {}],\n  x: [53, 40, 0, 0, 0, 0, 1, 1, {}],\n\n  b: [36, 70, 0, 0, 0, 1, 1, 1, {}],\n  d: [43, 70, 0, 0, 0, 1, 1, 1, {}],\n  f: [37, 70, 0, 0, 0, 1, 1, 1, {}],\n  h: [42, 70, 0, 0, 0, 1, 1, 1, {}],\n  i: [32, 70, 0, 0, 0, 1, 1, 1, {}],\n  j: [26, 70, 0, 20, 0, 3, 1, 1, {}],\n  k: [39, 70, 0, 0, 0, 1, 1, 1, {}],\n  l: [33, 70, 0, 0, 0, 1, 1, 1, {}],\n  t: [34, 70, 0, 0, 0, 1, 1, 1, {}],\n\n  g: [36, 75, 0, 35, 0, 2, 1, 1, {}],\n  p: [30, 75, 0, 35, 0, 1, 1, 1, {}],\n  q: [50, 75, 0, 35, 0, 1, 1, 1, {}],\n  y: [29, 75, 0, 35, 0, 1, 1, 1, {}],\n  z: [54, 75, 0, 35, 0, 1, 1, 1, {}],\n};\n\nconst initialState = {\n  text: 'Example text here',\n  bgURLS: [\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABHNCSVQICAgIfAhkiAAAAAtJREFUCFtj+A8EAAn7A/2fHywAAAAAAElFTkSuQmCC',\n  ],\n  bgURLindex: 0,\n  chars: range(33, 126).reduce((obj, i) => {\n    const tmpchar = String.fromCharCode(i);\n    let tmpimg = new Image(dimMap[tmpchar][0], dimMap[tmpchar][1]);\n    tmpimg.src = `${process.env.PUBLIC_URL}/font/${i}_t.png`;\n    obj[tmpchar] = tmpimg;\n    return obj;\n  }, {}),\n  commonConfig: {\n    scale: 20,\n    left: -70,\n    top: -66.5,\n    linespacing: 101,\n    opacity: 0.82,\n    width: 480,\n    cols: 50,\n  },\n  stageRef: undefined,\n  imageURLS: [],\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGETEXT':\n      return { ...state, text: action.text };\n    case 'RESETTEXT':\n      return { ...state, text: initialState.text };\n    case 'ADDBGURLS':\n      return { ...state, bgURLS: [...state.bgURLS, action.bgURLS] };\n    case 'RESETBGURLS':\n      return { ...state, bgURLS: initialState.bgURLS };\n    case 'CHANGEBGURLINDEX':\n      return { ...state, bgURLindex: action.bgURLindex };\n    case 'RESETBGURLINDEX':\n      return { ...state, bgURLindex: initialState.bgURLindex };\n    case 'CHANGECOMMONCONFIG':\n      return { ...state, commonConfig: action.commonConfig };\n    case 'SETSTAGEREF':\n      return { ...state, stageRef: action.stageRef };\n    case 'ADDIMAGEURLS':\n      return { ...state, imageURLS: state.imageURLS.concat(action.imageURLS) };\n    case 'RESETIMAGEURLS':\n      return { ...state, imageURLS: initialState.imageURLS };\n    default:\n      return state;\n  }\n};\n\nexport { initialState, reducer, dimMap };\n","import React from 'react';\nimport { Image } from 'react-konva';\n\nconst CharImg = props => {\n  // const [image, status] = useImage(props.src);\n  // const imageRef = useRef();\n  // console.log(`drawing ${props.i1}`);\n  // useEffect(() => {\n  //   if (props.image) {\n  //     // you many need to reapply cache on some props changes like shadow, stroke, etc.\n  //     // imageRef.current.cache();\n  //     // since this update is not handled by \"react-konva\" and we are using Konva methods directly\n  //     // we have to redraw layer manually\n  //     // imageRef.current.getLayer().batchDraw();\n  //   }\n  // }, [props]);\n  return (\n    <Image\n      // image={props.store.chars[e1.char]}\n      image={props.image}\n      // ref={imageRef}\n      // key={props.i1}\n      x={props.e1.x}\n      y={props.e1.y}\n      offsetY={props.e1.offsetY}\n      scaleX={(props.e1.scaleX * props.store.commonConfig.scale) / 100}\n      scaleY={((props.e1.scaleY ?? 1) * props.store.commonConfig.scale) / 100}\n      opacity={props.e1.opacity * props.store.commonConfig.opacity}\n      rotation={props.e1.rotation}\n      width={props.e1.width}\n      height={props.e1.height}\n      listening={true}\n      // filters={[Konva.Filters.Blur]}\n      // blurRadius={10}\n    />\n  );\n};\n\nexport default CharImg;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { Layer, Group } from 'react-konva';\nimport { initialState, dimMap } from '../store';\nimport CharImg from './CharImg';\n\nimport TransformableGroup from './TransformableGroup';\n\nconst rand = (min, max) => Math.random() * (max - min) + min;\n\nconst TextLayer = props => {\n  const [textData, setTextData] = useState([]);\n  const textLayerRef = useRef();\n\n  useEffect(() => {\n    const textlayout = text => {\n      let lastspace = false;\n      let hyphenflag = -1;\n      let tmpx = rand(-4, 4);\n      let tmpy = rand(-1, 0);\n      const tmprotation = rand(-10, 10);\n      let out = [[]];\n      for (let i = 0; i < text.length; i += 1) {\n        if (\n          !`0123456789!\"#$%&'()*+,-./:;<=>?@[\\]^_{|}ABCDEFGHIJKLMNOPQRSTUVWXYZacemnorsuvwxbdfhijkltgpqyz \\n\\``.includes(\n            text[i]\n          )\n        )\n          continue;\n        if (text[i] === '\\n') {\n          out.push([]);\n          tmpx = rand(-4, 4);\n        } else if (text[i] === ' ') {\n          tmpx += rand(8, 12);\n          if (\n            hyphenflag === -1 &&\n            tmpx >= props.store.commonConfig.left + props.store.commonConfig.width\n          ) {\n            out.push([]);\n            tmpx = rand(-4, 4);\n            // console.log(text[i - 1], text[i], text[i + 1]);\n          }\n          lastspace = true;\n        } else {\n          // console.log(`outputting : ${text[i]}`);\n\n          const scaleX = rand(0.9, 1.3) * dimMap[text[i]][6];\n          if (props.store.commonConfig.cols - out[out.length - 1].length < 11) {\n            let tmpsum = 0;\n            for (let j = 0; j < 3; j += 1) {\n              tmpsum +=\n                ((dimMap[text[i + j]] ?? [0])[0] * scaleX * props.store.commonConfig.scale) / 100;\n              if (\n                hyphenflag === -1 &&\n                !'\\n. '.includes(text[i + j]) &&\n                tmpx + tmpsum >= props.store.commonConfig.left + props.store.commonConfig.width\n              ) {\n                // console.log(`found : ${text[i]}`);\n                hyphenflag = i + j;\n                if (lastspace) {\n                  out.push([]);\n                  i = i + j;\n                  // console.log(`decremented, new ele : ${text[i]}`);\n                  // console.log(out[out.length - 1]);\n                  tmpx = rand(-4, 4);\n                  hyphenflag = -1;\n                }\n                break;\n              }\n            }\n          }\n          let currentchar = hyphenflag === i ? '-' : text[i];\n          lastspace = false;\n          out[out.length - 1].push({\n            char: currentchar,\n            x: tmpx + dimMap[currentchar][4],\n            y: tmpy,\n            width: dimMap[currentchar][0],\n            height: dimMap[currentchar][1],\n            scaleX: scaleX,\n            scaleY: dimMap[currentchar][7],\n            opacity: rand(0.875, 1),\n            rotation: rand(0, tmprotation),\n            offsetY:\n              -props.store.commonConfig.linespacing +\n              dimMap[currentchar][1] * dimMap[currentchar][7] -\n              dimMap[currentchar][3],\n          });\n          tmpx +=\n            (dimMap[currentchar][0] * props.store.commonConfig.scale * scaleX) / 100 +\n            dimMap[currentchar][5];\n          if (hyphenflag === i) {\n            i--;\n            hyphenflag = -1;\n            out.push([]);\n            tmpx = rand(-4, 4);\n          }\n        }\n      }\n      return out;\n    };\n\n    setTextData(textlayout(props.store.text));\n    textLayerRef.current.draw();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    props.store.text,\n    props.store.commonConfig.scale,\n    props.store.commonConfig.width,\n    props.store.commonConfig.cols,\n  ]);\n  return (\n    <Layer\n      imageSmoothingEnabled={true}\n      offsetY={props.store.commonConfig.top}\n      offsetX={props.store.commonConfig.left}\n      ref={textLayerRef}\n      draggable={true}\n      listening={true}\n      onMouseEnter={e => {\n        // style stage container:\n        const container = e.target.getStage().container();\n        container.style.cursor = 'all-scroll';\n      }}\n      onMouseLeave={e => {\n        const container = e.target.getStage().container();\n        container.style.cursor = 'default';\n      }}\n    >\n      {textData.map((e0, i0) => {\n        let tmpy = (i0 * props.store.commonConfig.linespacing * props.store.commonConfig.scale) / 100;\n        return (\n          <TransformableGroup\n            key={i0}\n            offsetY={-tmpy}\n            isSelected={`text${i0}` === props.selectedId}\n            onSelect={() => props.selectShape(`text${i0}`)}\n            {...props}\n          >\n            {/* <Group key={i0} listening={true} draggable={true}> */}\n            {e0.map((e1, i1) => {\n              return <CharImg image={props.store.chars[e1.char]} i1={i1} e1={e1} {...props} />;\n            })}\n            {/* </Group> */}\n          </TransformableGroup>\n        );\n      })}\n    </Layer>\n  );\n};\nexport default TextLayer;\n// offsetY={-tmpy}\n","import React, { useRef, useEffect } from 'react';\nimport { Stage } from 'react-konva';\nimport { useMeasure } from 'react-use';\n\nimport BgLayer from './BgLayer';\nimport ImagesLayer from './ImagesLayer';\nimport TextLayer from './TextLayer';\n\nimport './paper.scss';\n\nconst Paper = props => {\n  const [stageContainerRef, { height }] = useMeasure();\n  const stageRef = useRef();\n  const [selectedId, selectShape] = React.useState(null);\n\n  const checkDeselect = e => {\n    // deselect when clicked on empty area\n    // console.log(e.target.attrs.id, e.target.getStage().attrs.id);\n    const clickedOnEmpty = e.target.attrs.id === 'bglayer';\n    if (!clickedOnEmpty) return;\n    selectShape(null);\n  };\n\n  useEffect(() => {\n    console.log(selectedId);\n  }, [selectedId]);\n\n  useEffect(() => {\n    // textLayerRef.current.draw();\n    if (!props.store.stageRef) {\n      props.dispatch({\n        type: 'SETSTAGEREF',\n        stageRef: stageRef,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.store]);\n\n  return (\n    <div className='C-paper'>\n      <div className='stage' ref={stageContainerRef}>\n        <Stage\n          id='stage'\n          height={height}\n          width={0.7 * height}\n          ref={stageRef}\n          listening={true}\n          onMouseDown={checkDeselect}\n          onTouchStart={checkDeselect}\n        >\n          <BgLayer {...props} height={height} />\n          <ImagesLayer {...props} selectedId={selectedId} selectShape={selectShape} />\n          <TextLayer {...props} selectedId={selectedId} selectShape={selectShape} />\n        </Stage>\n      </div>\n    </div>\n  );\n};\n\nexport default Paper;\n","const expandSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-chevron-expand'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path\n      fillRule='evenodd'\n      d='M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z'\n    />\n  </svg>\n);\n\nconst uploadSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-cloud-arrow-up-fill'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path\n      fillRule='evenodd'\n      d='M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146l-2-2a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L7.5 6.707V10.5a.5.5 0 0 0 1 0V6.707l1.146 1.147a.5.5 0 0 0 .708-.708z'\n    ></path>\n  </svg>\n);\n\nconst randomSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-shuffle'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path\n      fillRule='evenodd'\n      d='M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z'\n    ></path>\n    <path d='M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z'></path>\n  </svg>\n);\n\nconst downloadSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-cloud-arrow-down-fill'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path\n      fillRule='evenodd'\n      d='M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 6.854l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708z'\n    ></path>\n  </svg>\n);\n\nconst penSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-pencil-square'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path d='M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z' />\n    <path\n      fillRule='evenodd'\n      d='M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z'\n    />\n  </svg>\n);\n\nconst ghSvg = (\n  <svg role='img' viewBox='0 0 24 24' fill='currentColor' xmlns='http://www.w3.org/2000/svg'>\n    <title>GitHub</title>\n    <path d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12' />\n  </svg>\n);\n\nconst trashSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-trash-fill'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path\n      fillRule='evenodd'\n      d='M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z'\n    />\n  </svg>\n);\n\nconst clearSvg = (\n  <svg\n    viewBox='0 0 16 16'\n    className='bi bi-slash-circle-fill'\n    fill='currentColor'\n    xmlns='http://www.w3.org/2000/svg'\n  >\n    <path\n      fillRule='evenodd'\n      d='M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.646-2.646a.5.5 0 0 0-.708-.708l-6 6a.5.5 0 0 0 .708.708l6-6z'\n    />\n  </svg>\n);\n\nexport { expandSvg, uploadSvg, randomSvg, downloadSvg, penSvg, ghSvg, trashSvg, clearSvg };\n","import React, { useState } from 'react';\nimport { penSvg, ghSvg } from '../content/controls/svgs';\nimport './homeheader.scss';\n\nconst HomeHeader = props => {\n  return (\n    <nav className='navbar navbar-dark bg-primary'>\n      <div className='C-title'>\n        {penSvg}\n        <span className='navbar-brand' href='#'>\n          HandWriter\n        </span>\n      </div>\n      <div className='C-title'>\n        <a href='https://github.com/tusharpandey13/HandWriter' target='_blank' rel='noreferrer'>\n          <button className='btn btn-light text-black'>{ghSvg}</button>\n        </a>\n      </div>\n    </nav>\n  );\n};\n\nexport default HomeHeader;\n","import React from 'react';\n\nimport './inputGroup.scss';\n\nconst InputGroup = props => {\n  const dispatchChange = e => {\n    props.dispatch({\n      type: 'CHANGECOMMONCONFIG',\n      commonConfig: {\n        ...props.store.commonConfig,\n        [props.name]: parseFloat(e.target.value),\n      },\n    });\n  };\n  return (\n    <div className='input-C form-group'>\n      <div className={`label`}>{props.name}</div>\n      <span>{Math.abs(parseFloat(props.store.commonConfig[props.name]))}</span>\n\n      <input\n        className='slider'\n        type='range'\n        min={props.min}\n        max={props.max}\n        onChange={dispatchChange}\n        defaultValue={props.store.commonConfig[props.name]}\n        step={props.step ?? 1}\n        // value={props.store.commonConfig[props.name]}\n      />\n    </div>\n  );\n};\n\nexport default InputGroup;\n","import React, { useRef, useState } from 'react';\nimport { Collapse } from 'react-bootstrap';\nimport { expandSvg } from '../svgs';\nimport './inputcontainer.scss';\n\nconst InputContainer = props => {\n  const [open, setOpen] = useState(props.open ?? false);\n\n  return (\n    <div className='card rounded mt-1 mb-1'>\n      <div className='card-header flexrow'>\n        {props.title}\n        <button className='btn btn-secondary' onClick={() => setOpen(!open)}>\n          {/* <span>{open ? 'Close' : 'Open'}</span> */}\n          {expandSvg}\n        </button>\n      </div>\n      <Collapse in={open}>\n        <div className='card-body'>{props.children}</div>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default InputContainer;\n","import React, { useEffect, useRef, useState } from 'react';\nimport HomeHeader from '../../homeheader';\nimport { Collapse } from 'react-bootstrap';\nimport InputGroup from './inputGroup';\nimport InputContainer from './inputContainer';\nimport './controls.scss';\nimport { uploadSvg, randomSvg, downloadSvg, trashSvg, clearSvg } from './svgs';\n\nconst downloadURI = (uri, name) => {\n  const link = document.createElement('a');\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\nconst Controls = props => {\n  const [pageCtr, setPageCtr] = useState(0);\n\n  const dispatchImageChange = e => {\n    props.dispatch({\n      type: 'ADDBGURLS',\n      bgURLS: Array.from(e.target.files).map(e1 => URL.createObjectURL(e1)),\n    });\n    props.dispatch({\n      type: 'CHANGEBGURLINDEX',\n      bgURLindex: props.store.bgURLindex + 1,\n    });\n  };\n  const dispatchBgURLIndexChange = e => {\n    props.dispatch({\n      type: 'CHANGEBGURLINDEX',\n      bgURLindex: Math.max(1, (props.store.bgURLindex + 1) % props.store.bgURLS.length),\n    });\n  };\n  const dispatchBgURLIndexReset = e => {\n    props.dispatch({\n      type: 'RESETBGURLINDEX',\n    });\n    props.dispatch({\n      type: 'RESETBGURLS',\n    });\n  };\n\n  const dispatchResetPage = e => {\n    props.dispatch({\n      type: 'RESETBGURLINDEX',\n    });\n    props.dispatch({\n      type: 'CHANGETEXT',\n      text: '',\n    });\n    props.dispatch({\n      type: 'RESETIMAGEURLS',\n    });\n  };\n\n  const fileRef = useRef();\n\n  return (\n    <div className='C-controls'>\n      <HomeHeader title={`HandWriter`} thickborder={``} header />\n      <div className='C-inputs bg-white pl-1 pr-1'>\n        <InputContainer title='Paper' open={true}>\n          <button className='btn btn-light buttoncontrol col' onClick={dispatchResetPage}>\n            <span>Clear Page</span>\n            {clearSvg}\n          </button>\n          <input type='file' accept='image/*' onChange={dispatchImageChange} ref={fileRef} hidden />\n          <button\n            className='btn btn-dark buttoncontrol col'\n            onClick={e => fileRef.current && fileRef.current.click()}\n          >\n            <span>Upload Custom Background</span>\n            {uploadSvg}\n          </button>\n          {props.store.bgURLS.length > 1 && (\n            <div className='row pt-0 pb-0 pl-1 pr-1 col'>\n              <button\n                className='btn btn-success buttoncontrol col mr-1'\n                onClick={dispatchBgURLIndexChange}\n                disabled={props.store.bgURLS.length <= 2}\n              >\n                <span>Change Background</span>\n                {randomSvg}\n              </button>\n              <button\n                className='btn btn-danger buttoncontrol col-auto ml-1'\n                onClick={dispatchBgURLIndexReset}\n              >\n                {/* <span>Reset Background</span> */}\n                {trashSvg}\n              </button>\n            </div>\n          )}\n          <button\n            className='btn btn-primary buttoncontrol col'\n            onClick={e => {\n              e.preventDefault();\n              setPageCtr(pageCtr + 1);\n              downloadURI(\n                props.store.stageRef.current.toDataURL({\n                  mimeType: 'image/png',\n                  quality: 1,\n                  pixelRatio: 2,\n                }),\n                `handwriter-${pageCtr}-${Date.now()}`\n              );\n            }}\n          >\n            <span>Download</span>\n            {downloadSvg}\n          </button>\n        </InputContainer>\n        <InputContainer title='Controls'>\n          <InputGroup name='scale' min={20} max={30} step={0.25} {...props}></InputGroup>\n          <InputGroup name='top' min={-200} max={0} step={0.5} {...props}></InputGroup>\n          <InputGroup name='left' min={-200} max={0} {...props}></InputGroup>\n          <InputGroup name='linespacing' min={0} max={200} {...props}></InputGroup>\n          <InputGroup name='width' min={180} max={600} step={10} {...props}></InputGroup>\n          <div className='alert alert-light mb-0 h6' role='alert'>\n            Tip: Drag the content to reposition, paste images into the editor to add\n          </div>\n        </InputContainer>\n      </div>\n    </div>\n  );\n};\n\nexport default Controls;\n","import React, { useReducer, useEffect } from 'react';\nimport TextInput from './textinput';\nimport Paper from './paper';\nimport Controls from './controls';\nimport { initialState, reducer } from './store';\n// import { useLocalStorage } from 'react-use';\n\nimport './content.scss';\n\nconst Content = props => {\n  const [store, dispatch] = useReducer(reducer, initialState);\n  return (\n    <div className='C-content'>\n      <TextInput store={store} dispatch={dispatch}></TextInput>\n      <Paper store={store} dispatch={dispatch}></Paper>\n      <Controls store={store} dispatch={dispatch} initialState={initialState}></Controls>\n    </div>\n  );\n};\n\nexport default Content;\n","import React from 'react';\n\n// import HomeHeader from './components/homeheader';\nimport Content from './components/content';\n// import Footer from './components/footer';\n\nimport './custom.scss';\n\nfunction App() {\n  return (\n    <div className='App'>\n      {/* <HomeHeader title={`HandWriter`} thickborder={`top`} /> */}\n      <Content />\n      {/* <Footer /> */}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}